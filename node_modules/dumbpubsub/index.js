var events = require('events');
var util = require('util');

var DumbPubSub = function() {
    events.EventEmitter.call(this);
    var self = this;

    self.server = null;

    self.attach = function(server) {
        self.server = server;
    };

    self.listen = function(root) {
        self.server.get(root, function(req, res){
            res.send('getted');
        });

        self.server.delete(root, function(req, res){
            res.send('deleted');
        });

        self.server.post(root, function(req, res){
            res.send('added');
        });
    };

    self.restore = function(dataStore) {
    };
};

util.inherits(DumbPubSub, events.EventEmitter);
module.exports = new DumbPubSub();
